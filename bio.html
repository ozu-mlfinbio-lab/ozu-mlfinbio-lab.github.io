<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
  <title>Emre Sefer, Ozyegin University</title>
   <meta name="generator" content="jemdoc, see http://jemdoc.jaboc.net/">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="verify-v1" content="aqd6Oc00OQihICsGLISAo0m/XPDikIXG3qPuhr01yAk=">
  <link rel="stylesheet" href="jemdoc.css" type="text/css">


<script type="text/javascript">var LEO_HIGHLIGHTS_DEBUG =                      false;
var LEO_HIGHLIGHTS_DEBUG_POS =                  false;

var _leoHighlightsPrevElem = null;

/**
 * Checks if the passed in class exists
 * @param c
 * @return
 */
function _leoHighlightsClassExists(c) {
   return typeof(c) == "function" && typeof(c.prototype) == "object" ? true : false;
}

/**
 * Checks if the firebug console is available
 * @param c
 * @return
 */
function _leoHighlightsFirebugConsoleAvailable(c) {
   try
   {
      if(_leoHighlightsClassExists(_FirebugConsole) &&
         window.console && console.log &&
         (console instanceof _FirebugConsole))
      {
         return true;
      }
   }
   catch(e){}

   return false;
}


/**
 * General method used to debug exceptions
 *
 * @param location
 * @param e
 * @return
 */
function _leoHighlightsReportExeception(location,e)
{
   try
   {
      if(_leoHighlightsFirebugConsoleAvailable() ||LEO_HIGHLIGHTS_DEBUG)
      {
         var logString=location+": "+e+"\n\t"+e.name+"\n\t"+
                       (e.number&0xFFFF)+"\n\t"+e.description;
         if(_leoHighlightsFirebugConsoleAvailable())
         {
            console.error(logString);
            console.trace();
         }
      }

      if(LEO_HIGHLIGHTS_DEBUG)
         alert(logString);
   }
   catch(e){}
}

/**
 * This will log a string to the firebug console
 *
 * @param str
 * @return
 */
function _leoHighlightsDebugLog(str)
{
   try
   {
      if(_leoHighlightsFirebugConsoleAvailable())
      {
         console.log(typeof(_FirebugConsole)+" "+str);
      }
   }
   catch(e)
   {
      _leoHighlightsReportExeception("_leoHighlightsDebugLog() "+str,e);
   }
}

/**
 * This will get an attribute and decode it.
 *
 * @param elem
 * @param id
 * @return
 */
function _leoHighlightsGetAttrib(elem,id)
{
   try
   {
      var val=elem.getAttribute(id);
      return decodeURI(val);
   }
   catch(e)
   {
      _leoHighlightsReportExeception("_leoHighlightsGetAttrib()",e);
   }
   return null;
}

/**
 * This is a dimensions object
 *
 * @param width
 * @param height
 * @return
 */
function LeoHighlightsDimension(width,height)
{
   try
   {
   	this.width=width;
   	this.height=height;
   	this.toString=function() { return ("("+this.width+","+this.height+")");};
   }
   catch(e)
   {
   	_leoHighlightsReportExeception("new LeoHighlightsDimension()",e);
   }
}

/**
 * This is a Position object
 *
 * @param x
 * @param y
 * @return
 */
function LeoHighlightsPosition(x,y)
{
   try
   {
   	this.x=x;
   	this.y=y;
   	this.toString=function() { return ("("+this.x+","+this.y+")");};
   }
   catch(e)
   {
   	_leoHighlightsReportExeception("new LeoHighlightsPosition()",e);
   }
}

var LEO_HIGHLIGHTS_ADJUSTMENT = new LeoHighlightsPosition(3,3);
var LEO_HIGHLIGHTS_IFRAME_TOP_SIZE = new LeoHighlightsDimension(LEO_HIGHLIGHTS_IFRAME_TOP_WIDTH,LEO_HIGHLIGHTS_IFRAME_TOP_HEIGHT);
var LEO_HIGHLIGHTS_IFRAME_BOTTOM_HOVER_SIZE = new LeoHighlightsDimension(LEO_HIGHLIGHTS_IFRAME_BOTTOM_COLLAPSED_WIDTH,LEO_HIGHLIGHTS_IFRAME_BOTTOM_COLLAPSED_HEIGHT);
var LEO_HIGHLIGHTS_IFRAME_BOTTOM_CLICK_SIZE = new LeoHighlightsDimension(LEO_HIGHLIGHTS_IFRAME_BOTTOM_EXPANDED_WIDTH,LEO_HIGHLIGHTS_IFRAME_BOTTOM_EXPANDED_HEIGHT);

var LEO_HIGHLIGHTS_DIV_HOVER_SIZE = new LeoHighlightsDimension(LEO_HIGHLIGHTS_IFRAME_TOTAL_COLLAPSED_WIDTH,LEO_HIGHLIGHTS_IFRAME_TOTAL_COLLAPSED_HEIGHT);
var LEO_HIGHLIGHTS_DIV_CLICK_SIZE = new LeoHighlightsDimension(LEO_HIGHLIGHTS_IFRAME_TOTAL_EXPANDED_WIDTH,LEO_HIGHLIGHTS_IFRAME_TOTAL_EXPANDED_HEIGHT);


/**
 * Sets the size of the passed in element
 *
 * @param elem
 * @param dim
 * @return
 */
function _leoHighlightsSetSize(elem,dim)
{
   try
   {
   	// Set the popup location
   	elem.style.width = dim.width + "px";
   	if(elem.width)
   		elem.width=dim.width;
   	elem.style.height  = dim.height + "px";
   	if(elem.height)
   		elem.height=dim.height;
   }
   catch(e)
   {
   	_leoHighlightsReportExeception("_leoHighlightsSetSize()",e);
   }
}

/**
 * This can be used for a simple one argument callback
 *
 * @param callName
 * @param argName
 * @param argVal
 * @return
 */
function _leoHighlightsSimpleGwCallBack(callName,argName, argVal)
{
   try
   {
      var gwObj = new Gateway();
      if(argName)
      	gwObj.addParam(argName,argVal);
      gwObj.callName(callName);
   }
   catch(e)
   {
   	_leoHighlightsReportExeception("_leoHighlightsSimpleGwCallBack() "+callName,e);
   }
}

/**
 * This gets a url argument from the current document.
 *
 * @param url
 * @return
 */
function _leoHighlightsGetUrlArg(url, name )
{
	  name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
	  var regexS = "[\\?&]"+name+"=([^&#]*)";
	  var regex = new RegExp( regexS );
	  var results = regex.exec(url);
	  if( results == null )
	    return "";
	  else
	    return results[1];
}


/**
 * This allows to redirect the top window to the passed in url
 *
 * @param url
 * @return
 */
function _leoHighlightsRedirectTop(url)
{
   try
   {
   	top.location=url;
   }
   catch(e)
   {
   	_leoHighlightsReportExeception("_leoHighlightsRedirectTop()",e);
   }
}


/**
 * This will find an element by Id
 *
 * @param elemId
 * @return
 */
function _leoHighlightsFindElementById(elemId,doc)
{
	try
	{
	   if(doc==null)
	      doc=document;

		var elem=doc.getElementById(elemId);
		if(elem)
			return elem;

		/* This is the handling for IE */
		if(doc.all)
		{
			elem=doc.all[elemId];
         if(elem)
         	return elem;

         for ( var i = (document.all.length-1); i >= 0; i--) {
         	elem=doc.all[i];
         	if(elem.id==elemId)
               return elem;
         }
		}
	}
   catch(e)
   {
   	_leoHighlightsReportExeception("_leoHighlightsFindElementById()",e);
   }
	return null;
}

/**
 * Get the location of one element relative to a parent reference
 *
 * @param ref
 *           the reference element, this must be a parent of the passed in
 *           element
 * @param elem
 * @return
 */
function _leoHighlightsGetLocation(ref, elem) {
   _leoHighlightsDebugLog("_leoHighlightsGetLocation "+elem.id);

   var count = 0;
   var location = new LeoHighlightsPosition(0,0);
   var walk = elem;
   while (walk != null && walk != ref && count < LEO_HIGHLIGHTS_INFINITE_LOOP_COUNT) {
      location.x += walk.offsetLeft;
      location.y += walk.offsetTop;
      walk = walk.offsetParent;
      count++;
   }

   _leoHighlightsDebugLog("Location is: "+elem.id+" - "+location);

   return location;
}

/**
 * This is used to update the position of an element as a popup
 *
 * @param IFrame
 * @param anchor
 * @return
 */
function _leoHighlightsUpdatePopupPos(iFrame,anchor)
{
   try
   {
      // Gets the scrolled location for x and y
      var scrolledPos=new LeoHighlightsPosition(0,0);
      if( self.pageYOffset ) {
         scrolledPos.x = self.pageXOffset;
         scrolledPos.y = self.pageYOffset;
      } else if( document.documentElement && document.documentElement.scrollTop ) {
         scrolledPos.x = document.documentElement.scrollLeft;
         scrolledPos.y = document.documentElement.scrollTop;
      } else if( document.body ) {
         scrolledPos.x = document.body.scrollLeft;
         scrolledPos.y = document.body.scrollTop;
      }

      /* Get the total dimensions to see what scroll bars might be active */
      var totalDim=new LeoHighlightsDimension(0,0)
      if (document.all && document.documentElement &&
      	document.documentElement.clientHeight&&document.documentElement.clientWidth)
      {
      	totalDim.width = document.documentElement.scrollWidth;
      	totalDim.height = document.documentElement.scrollHeight;
      }
      else if (document.all)
      { /* This is in IE */
     	 	totalDim.width = document.body.scrollWidth;
      	totalDim.height = document.body.scrollHeight;
      }
      else
      {
      	 totalDim.width = document.width;
      	 totalDim.height = document.height;
      }

      // Gets the location of the available screen space
      var centerDim=new LeoHighlightsDimension(0,0);
      if(self.innerWidth && self.innerHeight ) {
         centerDim.width = self.innerWidth-(totalDim.height>self.innerHeight?16:0); // subtracting scroll bar offsets for firefox
         centerDim.height = self.innerHeight-(totalDim.width>self.innerWidth?16:0);  // subtracting scroll bar offsets for firefox
      } else if( document.documentElement && document.documentElement.clientHeight ) {
         centerDim.width = document.documentElement.clientWidth;
         centerDim.height = document.documentElement.clientHeight;
      } else if( document.body ) {
         centerDim.width = document.body.clientWidth;
         centerDim.height = document.body.clientHeight;
      }

      // Get the current dimension of the popup element
      var iFrameDim=new LeoHighlightsDimension(iFrame.offsetWidth,iFrame.offsetHeight)
      if (iFrameDim.width <= 0)
      	iFrameDim.width = iFrame.style.width.substring(0, iFrame.style.width.indexOf('px'));
      if (iFrameDim.height <= 0)
      	iFrameDim.height = iFrame.style.height.substring(0, iFrame.style.height.indexOf('px'));

      /* Calculate the position, lower right hand corner by default */
      var position=new LeoHighlightsPosition(0,0);
      position.x=scrolledPos.x+centerDim.width-iFrameDim.width-LEO_HIGHLIGHTS_ADJUSTMENT.x;
      position.y=scrolledPos.y+centerDim.height-iFrameDim.height-LEO_HIGHLIGHTS_ADJUSTMENT.y;

      if(anchor!=null)
      {
         //centerDim in relation to the anchor element if available
         var topOrBottom = false;
         var anchorPos=_leoHighlightsGetLocation(document.body, anchor);
         var anchorScreenPos = new LeoHighlightsPosition(anchorPos.x-scrolledPos.x,anchorPos.y-scrolledPos.y);
         var anchorDim=new LeoHighlightsDimension(anchor.offsetWidth,anchor.offsetHeight)
         if (anchorDim.width <= 0)
         	anchorDim.width = anchor.style.width.substring(0, anchor.style.width.indexOf('px'));
         if (anchorDim.height <= 0)
         	anchorDim.height = anchor.style.height.substring(0, anchor.style.height.indexOf('px'));

         // Check if the popup can be shown above or below the element
         if (centerDim.height - anchorDim.height - iFrameDim.height - anchorScreenPos.y > 0) {
         	// Show below, formula above calculates space below open iFrame
            position.y = anchorPos.y + anchorDim.height;
            topOrBottom = true;
         } else if (anchorScreenPos.y - anchorDim.height - iFrameDim.height > 0) {
         	// Show above, formula above calculates space above open iFrame
         	position.y = anchorPos.y - iFrameDim.height - anchorDim.height;
            topOrBottom = true;
         }

         _leoHighlightsDebugLog("_leoHighlightsUpdatePopupPos() - topOrBottom: "+topOrBottom);

         if (topOrBottom) {
            // We attempt top attach the window to the element
         	position.x = anchorPos.x - iFrameDim.width / 2;
            if (position.x < 0)
            	position.x = 0;
            else if (position.x + iFrameDim.width > scrolledPos.x + centerDim.width)
            	position.x = scrolledPos.x + centerDim.width - iFrameDim.width;
            _leoHighlightsDebugLog("_leoHighlightsUpdatePopupPos() - topOrBottom: "+position);
         } else {
            // Attempt to align on the right or left hand side
            if (centerDim.width - anchorDim.width - iFrameDim.width - anchorScreenPos.x > 0)
               position.x = anchorPos.x + anchorDim.width;
            else if (anchorScreenPos.x - anchorDim.width - iFrameDim.width > 0)
            	position.x = anchorPos.x - anchorDim.width;
            else  // default to below
               position.y = anchorPos.y + anchorDim.height;
            _leoHighlightsDebugLog("_leoHighlightsUpdatePopupPos() - sideBottom: "+position);
         }
      }


      /* Make sure that we don't go passed the right hand border */
      if(position.x+iFrameDim.width>centerDim.width-20)
      	position.x=centerDim.width-(iFrameDim.width+20);

      // Make sure that we didn't go passed the start
      if(position.x<0)
         position.x=0;
      if(position.y<0)
      	position.y=0;

      _leoHighlightsDebugLog("Popup info id:       " +iFrame.id+" - "+anchor.id
                             + "\nscrolled          " + scrolledPos
                             + "\ncenter/visible    " + centerDim
                             + "\nanchor (absolute) " + anchorPos
                             + "\nanchor (screen)   " + anchorScreenPos
                             + "\nSize (anchor)     " + anchorDim
                             + "\nSize (popup)      " + iFrameDim
                             + "\nResult pos        " + position);

      // Set the popup location
      iFrame.style.left = position.x + "px";
      iFrame.style.top  = position.y + "px";
   }
   catch(e)
   {
   	_leoHighlightsReportExeception("_leoHighlightsUpdatePopupPos()",e);
   }
}


/**
 * This will show the passed in element as a popup
 *
 * @param anchorId
 * @param size
 *
 * @return
 */
function _leoHighlightsShowPopup(anchorId,size)
{
   try
   {
   	var popup=new LeoHighlightsPopup(anchorId,size);
   	popup.show();
   }
   catch(e)
   {
   	_leoHighlightsReportExeception("_leoHighlightsShowPopup()",e);
   }
}


/**
 * This will transform the passed in url to a rover url
 *
 * @param url
 * @return
 */
function _leoHighlightsGetRoverUrl(url)
{
	var rover=LEO_HIGHLIGHTS_ROVER_TAG;
	var roverUrl="http://rover.ebay.com/rover/1/"+rover+"/4?&mpre="+encodeURI(url);

	return roverUrl;
}

/**
 * Sets the size of the bottom windown part
 *
 * @param size
 * @return
 */
function _leoHighlightsSetBottomSize(size,clickId)
{
   /* Get the elements */
   var iFrameBottom=_leoHighlightsFindElementById(LEO_HIGHLIGHTS_IFRAME_BOTTOM_ID);
   var iFrameDiv=_leoHighlightsFindElementById(LEO_HIGHLIGHTS_IFRAME_DIV_ID);

   /* Figure out the correct sizes */
   var iFrameBottomSize=(size==1)?LEO_HIGHLIGHTS_IFRAME_BOTTOM_CLICK_SIZE:LEO_HIGHLIGHTS_IFRAME_BOTTOM_HOVER_SIZE;
   var divSize=(size==1)?LEO_HIGHLIGHTS_DIV_CLICK_SIZE:LEO_HIGHLIGHTS_DIV_HOVER_SIZE;

   /* Refresh the iFrame's url, by removing the size arg and adding it again */
   leoHighlightsUpdateUrl(iFrameBottom,size,clickId);

   /* Clear the hover flag, if the user shows this at full size */
   _leoHighlightsPrevElem.hover=size==1?false:true;

   _leoHighlightsSetSize(iFrameBottom,iFrameBottomSize);
   _leoHighlightsSetSize(iFrameDiv,divSize);
}


/**
 * Class for a Popup
 *
 * @param anchorId
 * @param size
 *
 * @return
 */
function LeoHighlightsPopup(anchorId,size)
{
   try
   {
      _leoHighlightsDebugLog("LeoHighlightsPopup() ");

   	this.anchorId=anchorId;
   	this.anchor=_leoHighlightsFindElementById(this.anchorId);
   	this.topIframe=_leoHighlightsFindElementById(LEO_HIGHLIGHTS_IFRAME_TOP_ID);
      this.bottomIframe=_leoHighlightsFindElementById(LEO_HIGHLIGHTS_IFRAME_BOTTOM_ID);
   	this.iFrameDiv=_leoHighlightsFindElementById(LEO_HIGHLIGHTS_IFRAME_DIV_ID);

   	this.topIframe.src=unescape(this.anchor.getAttribute('leoHighlights_url_top'));;
      this.bottomIframe.src=unescape(this.anchor.getAttribute('leoHighlights_url_bottom'));;

      _leoHighlightsDebugLog("1) LeoHighlightsPopup() ("+this.topIframe.style.top+", "+this.topIframe.style.left+")");
      _leoHighlightsDebugLog("2) LeoHighlightsPopup() ("+this.bottomIframe.style.top+", "+this.bottomIframe.style.left+")");

   	leoHighlightsSetSize(size);

   	this.updatePos=function() { _leoHighlightsUpdatePopupPos(this.iFrameDiv,this.anchor)};
      this.show=function() {
            this.updatePos();
            this.iFrameDiv.style.visibility = "visible";
            this.iFrameDiv.style.display = "block";
            this.updatePos();

            _leoHighlightsDebugLog("3) LeoHighlightsPopup() ("+this.topIframe.style.top+", "+this.topIframe.style.left+")");
            _leoHighlightsDebugLog("4) LeoHighlightsPopup() ("+this.bottomIframe.style.top+", "+this.bottomIframe.style.left+")");
      }
   	this.scroll=function() { this.updatePos();};
   }
   catch(e)
   {
   	_leoHighlightsReportExeception("new LeoHighlightsPopup()",e);
   }
}

/**
 * updates the url for the iFrame
 *
 * @param iFrame
 * @param size
 * @param clickId
 * @return
 */
function leoHighlightsUpdateUrl(iFrame,size,clickId,destUrl)
{
   try
   {
      _leoHighlightsDebugLog("leoHighlightsUpdateUrl() "+destUrl);
      var url=iFrame.src;
      var idx=url.indexOf("&size=");
      if(idx>=0)
         url=url.substring(0,idx);

//      size=1;
      _leoHighlightsDebugLog("leoHighlightsUpdateUrl() size="+size+"  "+url);


      if(size!=null)
         url+=("&size="+size);
      if(clickId!=null)
         url+=("&clickId="+clickId);
      if(destUrl!=null)
         url+=("&url="+destUrl);

      _leoHighlightsDebugLog("leoHighlightsUpdateUrl() "+url);

      iFrame.src=url;
   }
   catch(e)
   {
      _leoHighlightsReportExeception("leoHighlightsUpdateUrl()",e);
   }
}



/**
*
* This can be used to close an iframe
*
* @param id
* @return
*/
function leoHighlightsSetSize(size,clickId)
{
	try
	{
		/* Get the element */
  		var iFrameTop=_leoHighlightsFindElementById(LEO_HIGHLIGHTS_IFRAME_TOP_ID);

  		/* Figure out the correct sizes */
  		var iFrameTopSize=LEO_HIGHLIGHTS_IFRAME_TOP_SIZE;

  		/* Refresh the iFrame's url, by removing the size arg and adding it again */
  		leoHighlightsUpdateUrl(iFrameTop,size,clickId);

  		_leoHighlightsSetSize(iFrameTop,iFrameTopSize);
      _leoHighlightsSetBottomSize(size,clickId);

      /* Clear the hover flag, if the user shows this at full size */
      if(size==1&&_leoHighlightsPrevElem)
         _leoHighlightsPrevElem.hover=false;
	}
	catch(e)
	{
		_leoHighlightsReportExeception("leoHighlightsSetSize()",e);
	}
}

/**
 * Start the popup a little bit delayed.
 * Somehow IE needs some time to find the element by id.
 *
 * @param anchorId
 * @param size
 *
 * @return
 */
function leoHighlightsShowPopup(anchorId,size)
{
   try
   {
  		var elem=_leoHighlightsFindElementById(anchorId);
  		if(_leoHighlightsPrevElem&&(_leoHighlightsPrevElem!=elem))
  			_leoHighlightsPrevElem.shown=false;
  		elem.shown=true;
		_leoHighlightsPrevElem=elem;

		_leoHighlightsDebugLog("leoHighlightsShowPopup() "+_leoHighlightsPrevElem);

   	/* FF needs to find the element first */
   	_leoHighlightsFindElementById(anchorId);

   	setTimeout("_leoHighlightsShowPopup(\'"+anchorId+"\',\'"+size+"\');",10);
   }
   catch(e)
   {
   	_leoHighlightsReportExeception("leoHighlightsShowPopup()",e);
   }
}

/**
*
* This can be used to close an iframe
*
* @param id
* @return
*/
function leoHighlightsHideElem(id)
{
	try
	{
		/* Get the appropriate sizes */
  		var elem=_leoHighlightsFindElementById(id);
  		if(elem)
  			elem.style.visibility="hidden";

  		/* Clear the page for the next run through */
  		var iFrame=_leoHighlightsFindElementById(LEO_HIGHLIGHTS_IFRAME_TOP_ID);
  		if(iFrame)
  			iFrame.src="about:blank";
      var iFrame=_leoHighlightsFindElementById(LEO_HIGHLIGHTS_IFRAME_BOTTOM_ID);
      if(iFrame)
         iFrame.src="about:blank";


  		if(_leoHighlightsPrevElem)
  		{
  			_leoHighlightsPrevElem.shown=false;
  			_leoHighlightsPrevElem=null;
  		}
	}
	catch(e)
	{
		_leoHighlightsReportExeception("leoHighlightsHideElem()",e);
	}
}

/**
*
* This can be used to close an iframe.
* Since the iFrame is reused the frame only gets hidden
*
* @return
*/
function leoHighlightsIFrameClose()
{
  try
  {
	  _leoHighlightsSimpleGwCallBack("LeoHighlightsHideIFrame");
  }
  catch(e)
  {
	  _leoHighlightsReportExeception("leoHighlightsIFrameClose()",e);
  }
}

/**
 * This should handle the click events
 *
 * @param anchorId
 * @return
 */
function leoHighlightsHandleClick(anchorId)
{
   try
   {
  		var anchor=_leoHighlightsFindElementById(anchorId);
  		anchor.hover=false;
  		if(anchor.startTimer)
  			clearTimeout(anchor.startTimer);

      /* Report the click event */
      leoHighlightsReportEvent("clicked", window.document.domain,
            _leoHighlightsGetAttrib(anchor,'leohighlights_keywords'),null,
            _leoHighlightsGetAttrib(anchor,'leohighlights_accept'),
            _leoHighlightsGetAttrib(anchor,'leohighlights_reject'));

   	leoHighlightsShowPopup(anchorId,1);
   	return false;
   }
   catch(e)
   {
   	_leoHighlightsReportExeception("leoHighlightsHandleClick()",e);
   }
}

/**
 * This should handle the hover events
 *
 * @param anchorId
 * @return
 */
function leoHighlightsHandleHover(anchorId)
{
   try
   {
  		var anchor=_leoHighlightsFindElementById(anchorId);
  		anchor.hover=true;

      /* Report the hover event */
      leoHighlightsReportEvent("hovered", window.document.domain,
            _leoHighlightsGetAttrib(anchor,'leohighlights_keywords'),null,
            _leoHighlightsGetAttrib(anchor,'leohighlights_accept'),
            _leoHighlightsGetAttrib(anchor,'leohighlights_reject'));

   	leoHighlightsShowPopup(anchorId,0);
   	return false;
   }
   catch(e)
   {
   	_leoHighlightsReportExeception("leoHighlightsHandleHover()",e);
   }
}

/**
 * This will handle the mouse over setup timers for the appropriate timers
 *
 * @param id
 * @return
 */
function leoHighlightsHandleMouseOver(id)
{
	try
	{
		var anchor=_leoHighlightsFindElementById(id);

		/* Clear the end timer if required */
		if(anchor.endTimer)
			clearTimeout(anchor.endTimer);
		anchor.endTimer=null;

		anchor.style.background=LEO_HIGHLIGHTS_BACKGROUND_STYLE_HOVER;

		/* The element is already showing we are done */
		if(anchor.shown)
			return;

		/* Setup the start timer if required */
		anchor.startTimer=setTimeout(function(){
			leoHighlightsHandleHover(anchor.id);
			anchor.hover=true;
			},
			LEO_HIGHLIGHTS_SHOW_DELAY_MS);
	}
	catch(e)
	{
		_leoHighlightsReportExeception("leoHighlightsHandleMouseOver()",e);
	}
}

/**
 * This will handle the mouse over setup timers for the appropriate timers
 *
 * @param id
 * @return
 */
function leoHighlightsHandleMouseOut(id)
{
	try
	{
		var anchor=_leoHighlightsFindElementById(id);

		/* Clear the start timer if required */
		if(anchor.startTimer)
			clearTimeout(anchor.startTimer);
		anchor.startTimer=null;

		anchor.style.background=LEO_HIGHLIGHTS_BACKGROUND_STYLE_DEFAULT;
		if(!anchor.shown||!anchor.hover)
			return;

		/* Setup the start timer if required */
		anchor.endTimer=setTimeout(function(){
			leoHighlightsHideElem(LEO_HIGHLIGHTS_IFRAME_DIV_ID);
			anchor.shown=false;
			_leoHighlightsPrevElem=null;
			},LEO_HIGHLIGHTS_HIDE_DELAY_MS);
	}
	catch(e)
	{
		_leoHighlightsReportExeception("leoHighlightsHandleMouseOut()",e);
	}
}

/**
 * This handles the mouse movement into the currently opened window.
 * Just clear the close timer
 *
 * @return
 */
function leoHighlightsHandleIFrameMouseOver()
{
	try
	{
		if(_leoHighlightsPrevElem&&_leoHighlightsPrevElem.endTimer)
			clearTimeout(_leoHighlightsPrevElem.endTimer);
	}
	catch(e)
	{
		_leoHighlightsReportExeception("leoHighlightsHandleIFrameMouseOver()",e);
	}
}

/**
 * This handles the mouse movement into the currently opened window.
 * Just clear the close timer
 *
 * @param id
 * @return
 */
function leoHighlightsHandleIFrameMouseOut()
{
	try
	{
		if(_leoHighlightsPrevElem)
			leoHighlightsHandleMouseOut(_leoHighlightsPrevElem.id);
	}
	catch(e)
	{
		_leoHighlightsReportExeception("leoHighlightsHandleIFrameMouseOut()",e);
	}
}
/**
 * This is a method is used to make the javascript within IE runnable
 */
var leoHighlightsRanUpdateDivs=false;
function leoHighlightsUpdateDivs()
{
	try
	{
		/* Check if this is an IE browser and if divs have been updated already */
		if(document.all&&!leoHighlightsRanUpdateDivs)
		{
			leoHighlightsRanUpdateDivs=true; // Set early to prevent running twice
			for(var i=0;i<LEO_HIGHLIGHTS_MAX_HIGHLIGHTS;i++)
			{
				var id="leoHighlights_Underline_"+i;
				var elem=_leoHighlightsFindElementById(id);
				if(elem==null)
					break;

				if(!elem.leoChanged)
				{
					elem.leoChanged=true;

					/* This will make javaScript runnable */
					elem.outerHTML=elem.outerHTML;
				}
			}
		}
	}
	catch(e)
	{
		_leoHighlightsReportExeception("leoHighlightsUpdateDivs()",e);
	}
}

if(document.all)
	setTimeout(leoHighlightsUpdateDivs,200);


/**
 * This is used to report events to the plugin
 * @param key
 * @param domain
 * @param keywords
 * @param vendorId
 * @param accept
 * @param reject
 * @return
 */
function leoHighlightsReportEvent(key, domain,keywords,vendorId,accept,reject)
{
   try
   {
      var gwObj = new Gateway();
      gwObj.addParam("key",key);
      if(domain!=null)
         gwObj.addParam("domain",domain);
      if(keywords!=null)
         gwObj.addParam("keywords",keywords);
      if(vendorId!=null)
         gwObj.addParam("vendorId",vendorId);
      if(accept!=null)
         gwObj.addParam("accept",accept);
      if(reject!=null)
         gwObj.addParam("reject",reject);

      gwObj.callName("LeoHighlightsEvent");
   }
   catch(e)
   {
      _leoHighlightsReportExeception("leoHighlights()",e);
   }
}

/**
 * This will expand or collapse the window base on it prior state
 *
 * @return
 */
function leoHighlightsToggleSize(clickId)
{
   try
   {
      _leoHighlightsDebugLog("leoHighlightsToggleSize() "+_leoHighlightsPrevElem);
      /* Get the hover flag and change the status */
      var size=_leoHighlightsPrevElem.hover?1:0;
      _leoHighlightsSetBottomSize(size,clickId);
   }
   catch(e)
   {
      _leoHighlightsReportExeception("leoHighlightsToggleSize()",e);
   }
}

/**
 * Call into the kvm that will then do a callback into the top window
 * The top window will then call leoH
 *
 * @return
 */
function leoHighlightsSetSecondaryWindowUrl(url, customerId, phraseId)
{
   try
   {
      _leoHighlightsDebugLog("leoHighlightsSetSecondaryWindowUrl() "+url);
      var gwObj = new Gateway();
      gwObj.addParam("url", url);
      gwObj.addParam("phraseId", phraseId);
      gwObj.addParam("customerId", customerId);
      gwObj.callName("LeoHighlightsSetSecondaryWindowUrl");
   }
   catch(e)
   {
      _leoHighlightsReportExeception("leoHighlightsSetSecondaryWindowUrl()",e);
   }
}

/**
 * Call into the kvm that will then do a callback into the top window
 * The top window will then call leoH
 *
 * @return
 */
function leoHighlightsSetSecondaryWindowUrlCallback(url, customerId, phraseId)
{
   try
   {
      _leoHighlightsDebugLog("leoHighlightsSetSecondaryWindowUrlCallback() "+url);

      /* Clear the hover flag, if the user shows this at full size */
      var size=_leoHighlightsPrevElem.hover?0:1;
      _leoHighlightsDebugLog("leoHighlightsSetSecondaryWindowUrlCallback() "+_leoHighlightsPrevElem+" -- "+_leoHighlightsPrevElem.hover);

      /* Get the elements */
      var iFrameBottom=_leoHighlightsFindElementById(LEO_HIGHLIGHTS_IFRAME_BOTTOM_ID);
      leoHighlightsUpdateUrl(iFrameBottom,size,null,url);

      _leoHighlightsDebugLog("leoHighlightsSetSecondaryWindowUrlCallback() "+url);
   }
   catch(e)
   {
      _leoHighlightsReportExeception("leoHighlightsSetSecondaryWindowUrlCallback()",e);
   }
}

/**
 * This will set the text to the Top
 *
 * @param txt
 * @return
 */
function leoHighlightsSetExpandTxt(txt)
{
   try
   {
      var topIFrame = _leoHighlightsFindElementById(LEO_HIGHLIGHTS_IFRAME_TOP_ID);
      if(topIFrame==null)
         return;

      /* Get the current url */
      var url=topIFrame.src;
      if(url==null)
         return;

      /* Extract the previous hash if present */
      var idx=-1;
      if((idx=url.indexOf('#'))>0)
         url=url.substring(0,idx);

      /* Append the text to the end */
      url+="#"+encodeURI(txt);

      /* Set the iframe with the new url that contains the hash tag */
      topIFrame.src=url;
   }
   catch(e)
   {
      _leoHighlightsReportExeception("leoHighlightsSetExpandTxt()",e);
   }
}

/*----------------------------------------------------------------------*/
/* Methods provided to the highlight providers...                       */
/*----------------------------------------------------------------------*/

/**
 * This will set the expand text for the Top window
 */
function leoHL_SetExpandTxt(txt)
{
   try
   {
      _leoHighlightsDebugLog("leoHL_SetExpandTxt() "+txt);
      _leoHighlightsSimpleGwCallBack("LeoHighlightsSetExpandTxt","expandTxt",txt);
   }
   catch(e)
   {
      _leoHighlightsReportExeception("leoHL_SetExpandTxt()",e);
   }
}

/**
 * This will redirect the top window to the passed in url
 *
 * @param url
 * @param parentId
 * @return
 */
function leoHL_RedirectTop(url,parentId)
{
   try
   {
      try{
         var domain=_leoHighlightsGetUrlArg(window.document.URL,"domain")
         var keywords=_leoHighlightsGetUrlArg(window.document.URL,"keywords")
         var vendorId=_leoHighlightsGetUrlArg(window.document.URL,"vendorId")
      leoHighlightsReportEvent("clickthrough", domain,keywords, vendorId);
      }catch(e){
         _leoHighlightsReportExeception("leoHL_RedirectTop()",e);
      }

   	_leoHighlightsRedirectTop(url);
   }
   catch(e)
   {
   	_leoHighlightsReportExeception("leoHL_RedirectTop()",e);
   }
}

/**
 * This will redirect the top window to the passed in url
 *
 * @param url
 * @param parentId
 * @return
 */
function LeoHL_RedirectTop(url,parentId)
{
   leoHL_RedirectTop(url,parentId);
}

/**
 * This will redirect the top window to the passed in url
 *
 * @param url
 * @param parentId
 * @return
 */
function leoHL_RedirectTopAd(url,parentId)
{
   try
   {
      try{
         var domain=_leoHighlightsGetUrlArg(window.document.URL,"domain")
         var keywords=_leoHighlightsGetUrlArg(window.document.URL,"keywords")
         var vendorId=_leoHighlightsGetUrlArg(window.document.URL,"vendorId")
      leoHighlightsReportEvent("advertisement.click", domain,keywords, vendorId);
      }catch(e){
         _leoHighlightsReportExeception("leoHL_RedirectTopAd()",e);
      }

      _leoHighlightsRedirectTop(url);
   }
   catch(e)
   {
      _leoHighlightsReportExeception("leoHL_RedirectTopAd()",e);
   }
}


/**
 * This will set the size of the iframe
 *
 * @param url
 * @param parentId
 *
 * @return
 */
function leoHl_setSize(size,url)
{
   try
   {
   	/* Get the clickId */
   	var clickId=_leoHighlightsGetUrlArg( url,"clickId")

      var gwObj = new Gateway();
      gwObj.addParam("size",size);
      if(clickId)
         gwObj.addParam("clickId",clickId+"_blah");
      gwObj.callName("LeoHighlightsSetSize");
   }
   catch(e)
   {
   	_leoHighlightsReportExeception("leoHl_setSize()",e);
   }
}

/**
 * This will toggle the size of the window
 *
 * @return
 */
function leoHl_ToggleSize()
{
   try
   {
      var gwObj = new Gateway();
      gwObj.callName("LeoHighlightsToggleSize");
   }
   catch(e)
   {
      _leoHighlightsReportExeception("leoHl_ToggleSize()",e);
   }
}

</script>

<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />`

</head><script id="gwScript" type="text/javascript">                        function gwCall(method, argStr)
      {
         var gwProxy = window.document.getElementById('gwProxy');
         if (gwProxy)
         {
            gwProxy.setAttribute('gwMethod', method);
            gwProxy.setAttribute('gwArgStr', argStr);
            var e = document.createEvent('MouseEvents');
            e.initEvent('click',true,true);
            gwProxy.dispatchEvent(e);
         }
      }

      function jsCall()
      {
         var jsProxy = document.getElementById('jsProxy');
         if (jsProxy)
         {
            var jsCode = jsProxy.getAttribute('jsCode');
            eval(jsCode);
         }
      }

      function Gateway()
      {
         var _P4r4m5_ = {};
         this.addParam = function(name,value)
         {
            _P4r4m5_[escape(name)] = escape(value);
         }

         this.callName = function(callName)
         {
            var paramStr = '';
            for (name in _P4r4m5_)
            {
               paramStr = paramStr+
                          ((paramStr == '') ? '' : '&')+
                          name+'='+_P4r4m5_[name];
            }
            gwCall(callName, paramStr);
         }
      }

   function showIFrame(name, url)
      {
         frames[name].location.href = url;
      }

      function createSrcScriptElement(srcPath)
      {
         var js = document.createElement('script');
         js.setAttribute('type', 'text/javascript');
         js.setAttribute('src', srcPath);
         document.getElementsByTagName('head')[0].appendChild(js);
      }

      function createInlineScriptElement(escapedJsCode)
      {
         try{
            var js;
            if(document.standardCreateElement)
               js = document.standardCreateElement('script');
            else
               js = document.createElement('script');
            js.setAttribute('type', 'text/javascript');
            js.text = unescape(escapedJsCode);
            document.getElementsByTagName('head')[0].appendChild(js);
         }
         catch(e){
            //alert(document.createElement);
            //alert('ERROR: createInlineScriptElement(): '+e);
         }
      }

      function invokeInGuiThread(callName, argPtr)
      {
         var gwObj = new Gateway();
         gwObj.addParam('argPtr',argPtr);
         gwObj.callName(callName);
      }
</script>

<body>

   <div id="wholepage">
      <div id="layout-content">
      <div id="toptitle">
      <h4>   </h4>
      </div>
      
      <div class="centerdiv">
      
      <div class="topbar">
      
      <a href="bio.html" title="BIO"><img style="position: absolute; left: 12px; top: 48px;" src="images/emre_sefer.jpg" border="0" height="190" width="180"></a>
      
      <!--<a href="http://cmu.edu" target="_blank"><img style="position: absolute; left: 725px; top: 54px;" src="images/cmu-seal-white.png" id="emre" 
         border="0" height="165" width="165"></a>-->
      <p></p><div class="myname" style="position: absolute; left: 250px; top: 54px;">Emre Sefer  <br></div>
      <br><p style="position: absolute; left: 250px; top: 105px;">Assistant Professor of Computer Science</p><br>
      <a href="http://www.ozyegin.edu.tr" target="_blank"><img style="position: absolute; left: 250px; top: 140px;" src="images/ozyegin-logo.png" 
         id="emre" border="0" height="75" width="200"></a><br><br>
      
      <!--<p style="position: absolute; left: 180px; top: 129px;">H. John Heinz III College</p>
      <br>
      <p style="position: absolute; left: 180px; top: 150px;">Carnegie Mellon University</p><br> -->
      <!--<p style="position: absolute; left: 487px; top: 137px;"><img src="images/email2.png" height="23" width="220" ></p>-->
      
      <p style="position: absolute; left: 487px; top: 137px;">emre dot sefer at ozyegin dot edu dot tr</p>
      <!--<p style="position: absolute; left: 493px; top: 160px;">2118C Hamburg Hall</p>
      <p style="position: absolute; left: 493px; top: 182px;">412-268-3043</p>-->
      
      <br></br> <!--<a href="index.html#contact" title="CONTACT" style="position: absolute; left: 180px;font-size: 20pt Helvetica; color: rgb(255,255,255)">[contact]</a>-->
      </div>
      
      <div class="menu">
      <a href="index.html">Home</a>
      <a href="pubs.html">Publications</a>
      <!--<a href="research.html">Research</a>-->
      <a href="teaching.html">Teaching</a>
      <!--<a href="activities.html">Activities</a>-->
      <!--<a href="misc.html">Service/Misc</a> -->
      <a href="docs/resume_esefer.pdf">CV<img alt="pdf-file-icon" src="images/pdficonblack.jpg"></a>
      </div> <!-- end menu -->

<h2>Bio</h2>

<IMG BORDER="0" ALIGN="Left" width="190" height="180" border=0 hspace="20px"  SRC="images/emre_sefer.jpg"> 
    <div style="font-size:16px; width:810px;  padding:5px;">
   
   <b>Emre Sefer, PhD</b><br>
   </br>
   
   Emre Sefer obtained his B.Eng from Bogazici University, Department of Computer Engineering in 2008, M.S. in Computer Science from University of 
   Maryland College Park in 2011, and Ph.D. in Computational Biology from Carnegie Mellon University in 2015. 
   After completing his Ph.D. Dr. Sefer had a brief a post-doc at CMU Machine Learning Department with Ziv-Bar Joseph. 
   <br></br>
   His academic research has focused on Bioinformatics, and Machine Learning applications on social and economic networks. 
   He has published in number of journals and conferences during his PhD, receiving best research paper award at Recomb 2016 conference. 
   Since the end of 2015, Dr. Sefer has worked at Goldman Sachs and J.P. Morgan as quantitative strategist and applied ML Researcher.


   <!--Leman Akoglu is the Heinz College Dean's Associate Professor of Information Systems. She also holds courtesy appointments in the Computer Science Department (CSD) and the Machine Learning Department (MLD) of School of Computer Science (SCS). Prior to this, she was an Assistant Professor in the Department of Computer Science at Stony Brook University since receiving her Ph.D. from CSD/SCS of Carnegie Mellon University in 2012.
   <br></br>
   Dr. Akoglu’s research interests span a wide range of data mining and machine learning topics with a focus on algorithmic problems arising in graph mining, pattern discovery, social and information networks, and especially anomaly mining; outlier, fraud, and event detection. At Heinz, Dr. Akoglu directs the Data Analytics Techniques Algorithms (DATA) Lab.
    <br></br>
   Dr. Akoglu's research has won 7 publication awards; Best Research Paper at SIAM SDM 2019, Best Student Machine Learning Paper Runner-up at ECML PKDD 2018, Best Paper Runner-up at SIAM SDM 2016, Best Research Paper at SIAM SDM 2015, Best Paper at ADC 2014, Best Paper at PAKDD 2010, and Best Knowledge Discovery Paper at ECML PKDD 2009. She also holds 3 U.S. patents filed by IBM T. J. Watson Research Labs. Dr. Akoglu is a recipient of the National Science Foundation CAREER award (2015) and US Army Research Office Young Investigator award (2013). Her research has been supported by the NSF, US ARO, DARPA, Adobe, Facebook, Northrop Grumman, PNC Bank, and PwC.
    <br></br>
  Please also see <a href="http://www.cs.cmu.edu/~lakoglu/">Dr. Akoglu’s webpage</a> and <a href="http://datalab.heinz.cmu.edu/" target="_blank">DATA Lab research group page</a> for more on active research topics, ongoing projects, publications, and other up to date information.
   -->
   
  </div>
    
    
<br><br><br>
</body>
</html>
